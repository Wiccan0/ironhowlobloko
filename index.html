<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0B0F1A" />
  <title>ironhowl — links</title>
  <meta name="description" content="Соцсети и контакты ironhowl — iOS 26 glass style." />
  <meta name="color-scheme" content="dark" />

  <style>
    /* iOS 26-ish Glass Links (GitHub Pages-ready, no external deps) */

    :root{
      --bg0:#070A12;
      --bg1:#0B0F1A;

      --glass: rgba(255,255,255,.10);
      --glass2: rgba(255,255,255,.14);
      --stroke: rgba(255,255,255,.22);
      --stroke2: rgba(255,255,255,.16);

      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --muted2: rgba(255,255,255,.55);

      --shadow: 0 28px 70px rgba(0,0,0,.60);
      --shadow2: 0 16px 44px rgba(0,0,0,.40);

      --radius: 28px;
      --radius2: 22px;

      --safeT: env(safe-area-inset-top);
      --safeB: env(safe-area-inset-bottom);
      --safeL: env(safe-area-inset-left);
      --safeR: env(safe-area-inset-right);

      /* soft, eye-friendly accents */
      --a1: #7CF7FF;
      --a2: #B7A3FF;
      --a3: #FFB3D9;
      --a4: #9CFFB6;
      --a5: #FFD27A;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      color:var(--text);
      background:
        radial-gradient(1200px 900px at 20% 15%, rgba(124,247,255,.14), transparent 58%),
        radial-gradient(900px 800px at 78% 20%, rgba(183,163,255,.14), transparent 55%),
        radial-gradient(1000px 850px at 72% 84%, rgba(255,179,217,.12), transparent 60%),
        radial-gradient(900px 780px at 18% 82%, rgba(156,255,182,.10), transparent 58%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      font-family: ui-sans-serif, system-ui, -apple-system, "SF Pro Display", "SF Pro Text",
                   "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x:hidden;
    }

    /* film grain */
    body::before{
      content:"";
      position:fixed; inset:-50%;
      background:
        repeating-linear-gradient(0deg, rgba(255,255,255,.028) 0 1px, transparent 1px 3px),
        repeating-linear-gradient(90deg, rgba(255,255,255,.018) 0 1px, transparent 1px 4px);
      transform: rotate(-8deg);
      opacity:.18;
      pointer-events:none;
      mix-blend-mode: overlay;
    }

    /* moving light */
    .aurora{
      position:fixed; inset:-20%;
      background:
        radial-gradient(closest-side at 30% 30%, rgba(124,247,255,.18), transparent 58%),
        radial-gradient(closest-side at 70% 38%, rgba(183,163,255,.16), transparent 56%),
        radial-gradient(closest-side at 48% 76%, rgba(255,179,217,.14), transparent 58%);
      filter: blur(28px) saturate(120%);
      opacity:.85;
      animation: floaty 10s ease-in-out infinite alternate;
      pointer-events:none;
    }
    @keyframes floaty{
      from{ transform: translate3d(-2%, -1%, 0) scale(1.02); }
      to{ transform: translate3d(2.5%, 1.8%, 0) scale(1.06); }
    }

    .wrap{
      min-height:100%;
      padding: calc(18px + var(--safeT)) calc(18px + var(--safeR)) calc(28px + 96px + var(--safeB)) calc(18px + var(--safeL));
      display:flex;
      justify-content:center;
    }
    .phone{
      width: min(440px, 100%);
      position:relative;
    }

    .hero{
      border-radius: calc(var(--radius) + 10px);
      background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      backdrop-filter: blur(18px) saturate(150%);
      -webkit-backdrop-filter: blur(18px) saturate(150%);
      overflow:hidden;
      position:relative;
      padding: 22px;
      transform: translateZ(0);
    }
    .hero::after{
      content:"";
      position:absolute; inset:-40%;
      background:
        conic-gradient(from 210deg at 50% 50%,
          rgba(124,247,255,.0),
          rgba(124,247,255,.12),
          rgba(183,163,255,.12),
          rgba(255,179,217,.10),
          rgba(156,255,182,.10),
          rgba(255,210,122,.10),
          rgba(124,247,255,.0));
      filter: blur(34px);
      opacity:.55;
      animation: spin 16s linear infinite;
      pointer-events:none;
      mix-blend-mode: screen;
    }
    @keyframes spin{ from{ transform: rotate(0deg); } to{ transform: rotate(360deg); } }

    .topRow{
      display:flex;
      gap:16px;
      align-items:center;
      position:relative;
      z-index:1;
    }

    .avatarWrap{
      width:72px; height:72px;
      border-radius: 24px;
      border: 1px solid rgba(255,255,255,.28);
      background: rgba(255,255,255,.06);
      box-shadow: 0 18px 40px rgba(0,0,0,.40);
      overflow:hidden;
      position:relative;
      flex: 0 0 auto;
    }
    .avatarWrap::before{
      content:"";
      position:absolute; inset:-50%;
      background: radial-gradient(closest-side at 40% 25%, rgba(255,255,255,.22), transparent 58%);
      filter: blur(20px);
      opacity:.55;
      pointer-events:none;
      mix-blend-mode: overlay;
      animation: avatarGlow 7.5s ease-in-out infinite alternate;
    }
    @keyframes avatarGlow{
      from{ transform: translateX(-4%) translateY(0) scale(1.02); }
      to{ transform: translateX(4%) translateY(-2%) scale(1.06); }
    }

    .avatar{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
      transform: scale(1.02);
      filter: contrast(1.02) saturate(1.06);
    }

    .titleBlock h1{
      font-size: 22px;
      line-height: 1.1;
      letter-spacing: .2px;
      margin:0;
    }
    .titleBlock p{
      margin:6px 0 0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.35;
    }

    .quickPills{
      margin-top: 16px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      position:relative;
      z-index:1;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid var(--stroke2);
      color: var(--text);
      text-decoration:none;
      box-shadow: 0 10px 22px rgba(0,0,0,.24);
      backdrop-filter: blur(14px) saturate(145%);
      -webkit-backdrop-filter: blur(14px) saturate(145%);
      transform: translateZ(0);
      transition: transform .25s ease, background .25s ease, border-color .25s ease;
      user-select:none;
    }
    .pill:hover{ transform: translateY(-1px); background: rgba(255,255,255,.12); border-color: rgba(255,255,255,.26); }
    .pill:active{ transform: translateY(0px) scale(.98); }
    .pill svg{ width:18px; height:18px; opacity:.92; }

    .section{
      margin-top: 18px;
      display:grid;
      gap: 12px;
    }
    .card{
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      border: 1px solid var(--stroke2);
      box-shadow: var(--shadow2);
      backdrop-filter: blur(16px) saturate(155%);
      -webkit-backdrop-filter: blur(16px) saturate(155%);
      overflow:hidden;
      position:relative;
      transform: translateY(12px);
      opacity:0;
      transition: transform .7s cubic-bezier(.2,.9,.2,1), opacity .7s ease;
    }
    .card.reveal{ transform: translateY(0); opacity:1; }
    .card::before{
      content:"";
      position:absolute; inset:-1px;
      background:
        radial-gradient(700px 220px at 10% 0%, rgba(124,247,255,.10), transparent 45%),
        radial-gradient(700px 220px at 90% 0%, rgba(183,163,255,.10), transparent 45%),
        radial-gradient(700px 220px at 50% 120%, rgba(255,179,217,.08), transparent 55%);
      pointer-events:none;
    }

    .row{
      position:relative;
      z-index:1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 16px 16px;
      gap: 12px;
      text-decoration:none;
      color: inherit;
      transform: translateZ(0);
    }
    .left{
      display:flex;
      align-items:center;
      gap: 12px;
      min-width:0;
    }
    .icon{
      width:44px; height:44px;
      border-radius: 16px;
      background: rgba(255,255,255,.09);
      border: 1px solid rgba(255,255,255,.18);
      display:grid;
      place-items:center;
      box-shadow: 0 10px 22px rgba(0,0,0,.25);
      flex: 0 0 auto;
    }
    .icon svg{ width:22px; height:22px; opacity:.95; }
    .meta{ min-width:0; }
    .meta .name{
      font-size: 16px;
      letter-spacing: .2px;
      margin:0;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .meta .desc{
      margin: 4px 0 0;
      color: var(--muted2);
      font-size: 13px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .cta{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.18);
      color: var(--text);
      text-decoration:none;
      font-size: 13px;
      box-shadow: 0 10px 22px rgba(0,0,0,.22);
      transition: transform .25s ease, background .25s ease, border-color .25s ease;
      user-select:none;
      flex: 0 0 auto;
    }
    .row:hover .cta{ transform: translateY(-1px); background: rgba(255,255,255,.12); border-color: rgba(255,255,255,.26); }
    .row:active .cta{ transform: translateY(0) scale(.98); }

    /* Bottom dock */
    .dock{
      position:fixed;
      left:0; right:0; bottom:0;
      padding: 10px calc(14px + var(--safeR)) calc(12px + var(--safeB)) calc(14px + var(--safeL));
      display:flex;
      justify-content:center;
      pointer-events:none;
    }
    .dockInner{
      width:min(440px, 100%);
      pointer-events:auto;
      border-radius: 999px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.20);
      box-shadow: 0 22px 60px rgba(0,0,0,.55);
      backdrop-filter: blur(18px) saturate(160%);
      -webkit-backdrop-filter: blur(18px) saturate(160%);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 10px 12px;
      position:relative;
      overflow:hidden;
    }
    .dockInner::before{
      content:"";
      position:absolute; inset:-60%;
      background: radial-gradient(closest-side at 50% 50%, rgba(255,255,255,.22), transparent 58%);
      opacity:.35;
      filter: blur(24px);
      animation: dockGlow 8s ease-in-out infinite alternate;
      pointer-events:none;
    }
    @keyframes dockGlow{
      from{ transform: translateX(-8%) translateY(0); }
      to{ transform: translateX(8%) translateY(-2%); }
    }
    .dockBtn{
      display:flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      color: var(--text);
      text-decoration:none;
      font-size: 13px;
      user-select:none;
      transition: transform .25s ease, background .25s ease, border-color .25s ease;
      position:relative;
      z-index:1;
    }
    .dockBtn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.22); }
    .dockBtn:active{ transform: translateY(0) scale(.985); }
    .dockBtn svg{ width:18px; height:18px; opacity:.92; }
    .dockBtn.primary{
      background: linear-gradient(180deg, rgba(124,247,255,.18), rgba(183,163,255,.10));
      border-color: rgba(255,255,255,.24);
    }

    /* tap highlight */
    a, button{ -webkit-tap-highlight-color: rgba(124,247,255,.18); }

    /* toast */
    .toast{
      position:fixed;
      left:50%;
      bottom: calc(96px + env(safe-area-inset-bottom) + 16px);
      transform: translateX(-50%);
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.22);
      backdrop-filter: blur(16px) saturate(160%);
      -webkit-backdrop-filter: blur(16px) saturate(160%);
      box-shadow: 0 18px 44px rgba(0,0,0,.45);
      color: rgba(255,255,255,.92);
      font-size: 13px;
      z-index: 9999;
      opacity:0;
      transition: opacity .25s ease, transform .25s ease;
      pointer-events:none;
    }
    .toast.show{ opacity:1; transform: translateX(-50%) translateY(-2px); }

    @media (prefers-reduced-motion: reduce){
      .aurora, .hero::after, .dockInner::before, .avatarWrap::before{ animation:none !important; }
      .card{ transition:none !important; transform:none !important; opacity:1 !important; }
      .pill, .cta, .dockBtn{ transition:none !important; }
    }
    @media (max-width: 360px){
      .row{ padding: 14px 14px; }
      .avatarWrap{ width:66px; height:66px; border-radius: 22px; }
    }
  </style>
</head>

<body>
  <div class="aurora" aria-hidden="true"></div>

  <main class="wrap">
    <div class="phone">
      <section class="hero" aria-label="Профиль">
        <div class="topRow">
          <div class="avatarWrap" aria-hidden="true">
            <img class="avatar" src="avatar.jpg" alt="avatar" />
          </div>
          <div class="titleBlock">
            <h1 id="displayName">ironhowl</h1>
            <p id="tagline">Мои соцсети и контакты — нажми, чтобы открыть ✨</p>
          </div>
        </div>

        <div class="quickPills" id="quickPills" aria-label="Быстрые действия"></div>
      </section>

      <section class="section" id="cards" aria-label="Ссылки"></section>
    </div>
  </main>

  <footer class="dock" aria-label="Нижняя панель">
    <div class="dockInner">
      <a class="dockBtn" href="#" id="shareBtn" aria-label="Поделиться ссылкой">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 16V3" stroke="rgba(255,255,255,.92)" stroke-width="2" stroke-linecap="round"/>
          <path d="M8 6.5 12 3l4 3.5" stroke="rgba(255,255,255,.92)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M5 12v6a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3v-6" stroke="rgba(255,255,255,.72)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        Поделиться
      </a>

      <a class="dockBtn primary" href="#" id="mainBtn" aria-label="Открыть главную ссылку">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2l1.6 5.6L19 9l-5.4 1.4L12 16l-1.6-5.6L5 9l5.4-1.4L12 2Z" stroke="rgba(255,255,255,.92)" stroke-width="2" stroke-linejoin="round"/>
          <path d="M5 16l.8 2.8L9 20l-3.2 1.2L5 24l-.8-2.8L1 20l3.2-1.2L5 16Z" stroke="rgba(255,255,255,.55)" stroke-width="1.6" stroke-linejoin="round" transform="translate(0 -3)"/>
        </svg>
        Открыть
      </a>

      <a class="dockBtn" href="#" id="copyBtn" aria-label="Скопировать ссылку">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 9h10v12H9V9Z" stroke="rgba(255,255,255,.9)" stroke-width="2" />
          <path d="M5 15H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1" stroke="rgba(255,255,255,.62)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        Копировать
      </a>
    </div>
  </footer>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    const CONFIG = {
      displayName: "ironhowl",
      tagline: "Мои соцсети и контакты — нажми, чтобы открыть ✨",

      pills: [
        { label: "Написать", href: "https://t.me/IRONHOWL909", icon: "telegram" },
        { label: "Discord", href: "https://discord.gg/jGHXJjVuZb", icon: "discord" },
        { label: "Steam", href: "https://steamcommunity.com/id/IRONHOUL/", icon: "steam" },
      ],

      links: [
        { name: "Telegram (написать)", desc: "@IRONHOWL909 • быстрый контакт", href: "https://t.me/IRONHOWL909", icon: "telegram", cta: "Открыть" },
        { name: "Telegram (приват)", desc: "приватная ссылка", href: "https://t.me/+HSlEBvq5m-s1MmVi", icon: "lock", cta: "Войти" },
        { name: "Steam", desc: "профиль", href: "https://steamcommunity.com/id/IRONHOUL/", icon: "steam", cta: "Открыть" },
        { name: "Discord сервер", desc: "сообщество", href: "https://discord.gg/jGHXJjVuZb", icon: "discord", cta: "Войти" },
        { name: "VK", desc: "страница", href: "https://vk.com/ironhowl", icon: "vk", cta: "Открыть" },
        { name: "TikTok", desc: "@ironhowl808", href: "https://www.tiktok.com/@ironhowl808?_t=ZT-8vexlnjHY9C&_r=1", icon: "tiktok", cta: "Смотреть" },
        { name: "HitVPN", desc: "бот • запуск", href: "https://t.me/hitvpnbot?start=171946052492103", icon: "bolt", cta: "Запустить" },
      ],

      mainActionHref: "https://t.me/IRONHOWL909"
    };

    const ICONS = {
      arrow: `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 17L17 7" stroke="rgba(255,255,255,.9)" stroke-width="2" stroke-linecap="round"/>
        <path d="M9 7h8v8" stroke="rgba(255,255,255,.9)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>`,
      telegram: `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
        <path d="M21.6 4.4 3.7 11.3c-1 .4-1 .9-.2 1.2l4.6 1.4 1.7 5.3c.2.6.1.8.7.8.5 0 .7-.2 1-.5l2.2-2.1 4.6 3.4c.8.4 1.4.2 1.6-.8l3-14.1c.2-1-.3-1.4-1.3-1Z"
              stroke="rgba(255,255,255,.92)" stroke-width="1.7" stroke-linejoin="round"/>
        <path d="M8.2 13.8 18.8 6.9" stroke="rgba(255,255,255,.6)" stroke-width="1.6" stroke-linecap="round"/>
      </svg>`,
      discord: `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 8c1.3-1 2.7-1.5 4-1.5S14.7 7 16 8" stroke="rgba(255,255,255,.92)" stroke-width="2" stroke-linecap="round"/>
        <path d="M7 16c1.7 1.3 3.5 2 5 2s3.3-.7 5-2" stroke="rgba(255,255,255,.72)" stroke-width="2" stroke-linecap="round"/>
        <path d="M6.2 9.2C5 11 4.4 13 4.5 15c2 1.8 4.5 3 7.5 3s5.5-1.2 7.5-3c.1-2-.5-4-1.7-5.8C16.5 8 14.5 7 12 7s-4.5 1-5.8 2.2Z"
              stroke="rgba(255,255,255,.55)" stroke-width="1.8" stroke-linejoin="round"/>
        <path d="M9.2 13.2h.01M14.8 13.2h.01" stroke="rgba(255,255,255,.92)" stroke-width="3" stroke-linecap="round"/>
      </svg>`,
      steam: `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.5 15.2 5 13.3a6.5 6.5 0 1 0 12.7-2.1" stroke="rgba(255,255,255,.72)" stroke-width="2" stroke-linecap="round"/>
        <path d="M14.2 9.5a3.2 3.2 0 1 0 0-6.4 3.2 3.2 0 0 0 0 6.4Z" stroke="rgba(255,255,255,.92)" stroke-width="2"/>
        <path d="M12.1 10.2 9.5 12.6" stroke="rgba(255,255,255,.6)" stroke-width="2" stroke-linecap="round"/>
        <path d="M9.4 18.6a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Z" stroke="rgba(255,255,255,.92)" stroke-width="2"/>
      </svg>`,
      vk: `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
        <path d="M4.5 7.5h3c.5 0 .8.2 1 .7.7 2 1.5 3.7 2.6 5.2.6.8 1.1.8 1.4-.1.3-.9.4-2.5.3-4.6 0-.8.4-1.2 1.2-1.2h2.6c.7 0 1.1.4 1.1 1.1-.1 2 .2 3.5.9 4.6.4.7.9.8 1.4.2 1.1-1.3 2-3 2.7-5.1.2-.5.5-.8 1-.8h2.9c.8 0 1.2.6.9 1.3-1 2.3-2.4 4.5-4.2 6.4.9.7 1.8 1.7 2.8 3 .6.8.2 1.8-.8 1.8h-3c-.5 0-.9-.2-1.2-.6-.9-1.2-1.8-2.2-2.6-2.9-.6-.5-1.1-.3-1.3.5-.1.4-.2.9-.2 1.6 0 .9-.4 1.4-1.3 1.4h-1.3c-3.1 0-5.7-1.3-7.9-3.9-1.8-2.2-3.1-4.8-4-7.8-.2-.7.2-1.3.9-1.3Z"
              stroke="rgba(255,255,255,.78)" stroke-width="1.3" stroke-linejoin="round"/>
      </svg>`,
      tiktok: `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
        <path d="M14 3v10.2a3.8 3.8 0 1 1-3-3.7" stroke="rgba(255,255,255,.92)" stroke-width="2.2" stroke-linecap="round"/>
        <path d="M14 6.2c1.1 1.7 2.7 2.8 5 3" stroke="rgba(255,255,255,.6)" stroke-width="2" stroke-linecap="round"/>
      </svg>`,
      bolt: `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
        <path d="M13 2 4 14h7l-1 8 10-14h-7l0-6Z" stroke="rgba(255,255,255,.92)" stroke-width="2" stroke-linejoin="round"/>
      </svg>`,
      lock: `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 11V8a5 5 0 0 1 10 0v3" stroke="rgba(255,255,255,.72)" stroke-width="2" stroke-linecap="round"/>
        <path d="M6.5 11h11A2.5 2.5 0 0 1 20 13.5v6A2.5 2.5 0 0 1 17.5 22h-11A2.5 2.5 0 0 1 4 19.5v-6A2.5 2.5 0 0 1 6.5 11Z"
              stroke="rgba(255,255,255,.92)" stroke-width="2"/>
      </svg>`
    };

    const $ = (sel) => document.querySelector(sel);

    function safeHref(href){
      if(!href) return "#";
      const h = href.trim();
      const ok = /^(https?:\/\/|mailto:|tel:)/i.test(h);
      return ok ? h : "#";
    }

    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, (m) => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[m]));
    }

    function buildPills(){
      const host = $("#quickPills");
      host.innerHTML = "";
      for(const p of (CONFIG.pills || [])){
        const a = document.createElement("a");
        a.className = "pill";
        a.href = safeHref(p.href);
        a.target = a.href.startsWith("http") ? "_blank" : "_self";
        a.rel = a.target === "_blank" ? "noopener noreferrer" : "";
        a.innerHTML = `${ICONS[p.icon] || ""}<span>${escapeHtml(p.label || "")}</span>`;
        host.appendChild(a);
      }
    }

    function buildCards(){
      const host = $("#cards");
      host.innerHTML = "";
      for(const item of (CONFIG.links || [])){
        const card = document.createElement("article");
        card.className = "card";

        const href = safeHref(item.href);
        const open = document.createElement("a");
        open.className = "row";
        open.href = href;
        open.target = href.startsWith("http") ? "_blank" : "_self";
        open.rel = open.target === "_blank" ? "noopener noreferrer" : "";

        open.innerHTML = `
          <div class="left">
            <div class="icon" aria-hidden="true">${ICONS[item.icon] || ""}</div>
            <div class="meta">
              <p class="name">${escapeHtml(item.name || "")}</p>
              <p class="desc">${escapeHtml(item.desc || "")}</p>
            </div>
          </div>
          <span class="cta" aria-hidden="true">
            ${escapeHtml(item.cta || "Открыть")}
            ${ICONS.arrow}
          </span>
        `;

        card.appendChild(open);
        host.appendChild(card);
      }
    }

    function revealOnScroll(){
      const cards = Array.from(document.querySelectorAll(".card"));
      const io = new IntersectionObserver((entries) => {
        for(const e of entries){
          if(e.isIntersecting){
            e.target.classList.add("reveal");
            io.unobserve(e.target);
          }
        }
      }, { threshold: 0.18 });
      cards.forEach(c => io.observe(c));

      if(cards.length && window.innerHeight > document.body.scrollHeight - 8){
        cards.forEach(c => c.classList.add("reveal"));
      }
    }

    function toast(text){
      const t = $("#toast");
      t.textContent = text;
      t.classList.add("show");
      clearTimeout(window.__toastT);
      window.__toastT = setTimeout(() => t.classList.remove("show"), 1400);
    }

    function setupDock(){
      const mainHref = safeHref(CONFIG.mainActionHref || CONFIG.links?.[0]?.href || "#");
      const main = $("#mainBtn");
      main.href = mainHref;
      main.target = mainHref.startsWith("http") ? "_blank" : "_self";
      main.rel = main.target === "_blank" ? "noopener noreferrer" : "";

      $("#copyBtn").addEventListener("click", async (e) => {
        e.preventDefault();
        try{
          await navigator.clipboard.writeText(location.href);
          toast("Ссылка скопирована");
        }catch{
          toast("Не получилось скопировать");
        }
      });

      $("#shareBtn").addEventListener("click", async (e) => {
        e.preventDefault();
        const url = location.href;
        if(navigator.share){
          try{ await navigator.share({ title: document.title, url }); }
          catch{}
        }else{
          try{ await navigator.clipboard.writeText(url); toast("Ссылка скопирована"); }
          catch{ toast("Share недоступен"); }
        }
      });
    }

    // init
    $("#displayName").textContent = CONFIG.displayName || "Имя";
    $("#tagline").textContent = CONFIG.tagline || "";
    buildPills();
    buildCards();
    revealOnScroll();
    setupDock();

    // micro-parallax
    const hero = document.querySelector(".hero");
    let raf = null;
    window.addEventListener("pointermove", (e) => {
      if(window.matchMedia("(prefers-reduced-motion: reduce)").matches) return;
      if(!hero) return;
      const r = hero.getBoundingClientRect();
      const cx = r.left + r.width/2, cy = r.top + r.height/2;
      const dx = (e.clientX - cx) / r.width;
      const dy = (e.clientY - cy) / r.height;
      if(raf) cancelAnimationFrame(raf);
      raf = requestAnimationFrame(() => {
        hero.style.transform = `translateY(${Math.max(-2, Math.min(2, dy*3))}px)`;
      });
    }, { passive:true });

    window.addEventListener("pointerleave", () => {
      if(hero) hero.style.transform = "";
    }, { passive:true });
  </script>
</body>
</html>
